{"version":3,"sources":["webpack:///./src/components/error/error.tsx","webpack:///./src/components/error/index.ts","webpack:///./src/components/input/input.scss?e29f","webpack:///./src/components/button/button.scss?cb59","webpack:///./src/components/tabs/tabs.scss?0317","webpack:///./src/components/filters/blocks/categories/category/category.scss?5eba","webpack:///./src/components/filters/blocks/categories/categories.scss?268d","webpack:///./src/components/filters/filters.scss?9d84","webpack:///./src/pages/main/main.scss?c272","webpack:///./src/components/articles/article/article.scss?b64e","webpack:///./src/components/articles/articles.scss?8d36","webpack:///./src/getQuery.ts","webpack:///./src/components/icons/search/searchIcon.tsx","webpack:///./src/components/input/hooks.tsx","webpack:///./src/components/input/input.tsx","webpack:///./src/components/button/button.tsx","webpack:///./src/components/tabs/tabs.tsx","webpack:///./src/components/filters/blocks/categories/category/category.tsx","webpack:///./src/components/filters/blocks/categories/categories.tsx","webpack:///./src/components/filters/constants.ts","webpack:///./src/components/filters/filters.tsx","webpack:///./src/components/articles/article/article.tsx","webpack:///./src/components/articles/articles.tsx","webpack:///./src/helpers/io.ts","webpack:///./src/pages/main/main.tsx"],"names":["className","error","children","module","exports","getQuery","search","parse","slice","ignoreQueryPrefix","w","h","xmlns","x","y","width","height","enableBackground","version","viewBox","xmlSpace","d","useDebounce","fn","ms","deps","isReady","cancel","reset","ready","timeout","callback","current","set","clearTimeout","setTimeout","clear","useTimeoutFn","value","placeholder","disabled","onChange","onEnter","localValue","setValue","isMounted","handleOnEnter","event","currentTarget","wrapper","input","type","target","onKeyPress","key","item","onClick","isActive","button","active","options","tabs","map","option","id","label","category","props","categories","handleClick","filters","CATEGORIES","PAGES","ORDER_OPTIONS","history","query","articles","articlesStore","handleOrder","queryString","stringify","order","push","decodeURIComponent","handleChange","newQuery","searchArticles","handleSetCategory","setCategory","pages","arrows","article","url","row","text","href","name","title","phrase","description","urlToImage","src","alt","loading","cell","author","onEndedList","isLoading","wrapperRef","ref","threshold","root","rootMargin","onIntersect","hasBeenVisible","setHasBeenVisible","async","window","IntersectionObserver","then","init","observer","entries","intersectionRatio","observe","useIntersectionObserver","length","standartArticles","publishedAt","isFavourite","renderView","Main","getSortedArticles","getArticles","isMore","status","layout"],"mappings":"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","file":"2.js","sourcesContent":["import * as React from 'react';\n\nexport interface ICallbackObject {\n  value: string;\n}\n\ninterface IInputProps {\n  error: string;\n  className?: string;\n}\n\nconst ErrorWrapper: React.SFC<IInputProps> = ({ className, error, children }) => {\n  if (error) {\n    return <div>{error}</div>;\n  }\n  return <>{children}</>;\n};\n\nexport default ErrorWrapper;\n","export { default as ErrorWrapper } from './error';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"g_v\",\"input\":\"g_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"l_f\",\"button\":\"l_h\",\"active\":\"l_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"i_f\",\"button\":\"i_h\",\"button--hasNoBorderRadius\":\"i_y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"k_x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"h_x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"b_e\",\"tabs\":\"b_f\",\"arrows\":\"b_g\",\"button\":\"b_h\",\"sorting\":\"b_i\",\"title\":\"b_j\",\"sortButtons\":\"b_k\",\"pages\":\"b_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"a_a\",\"viewTabs\":\"a_b\",\"lang\":\"a_c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"f_p\",\"cell\":\"f_q\",\"text\":\"f_r\",\"name\":\"f_s\",\"phrase\":\"f_t\",\"heart\":\"f_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"standartArticles\":\"c_m\",\"previewTable\":\"c_n\"};","import qs from 'qs';\nimport * as H from 'history';\n\nexport function getQuery({ search }: H.Location) {\n  const query = qs.parse(`${search.slice(1)}`, {\n    ignoreQueryPrefix: true,\n  });\n  return query;\n}\n","import * as React from 'react';\nimport { IIconProps } from 'src/types';\n\nconst SearchIcon: React.FC<IIconProps> = ({ w = 24, h = 24, className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0\"\n      y=\"0\"\n      width={w}\n      height={h}\n      className={className}\n      enableBackground=\"new 0 0 512.005 512.005\"\n      version=\"1.1\"\n      viewBox=\"0 0 512.005 512.005\"\n      xmlSpace=\"preserve\"\n    >\n      <path d=\"M505.749 475.587l-145.6-145.6c28.203-34.837 45.184-79.104 45.184-127.317C405.333 90.926 314.41.003 202.666.003S0 90.925 0 202.669s90.923 202.667 202.667 202.667c48.213 0 92.48-16.981 127.317-45.184l145.6 145.6c4.16 4.16 9.621 6.251 15.083 6.251s10.923-2.091 15.083-6.251c8.341-8.341 8.341-21.824-.001-30.165zM202.667 362.669c-88.235 0-160-71.765-160-160s71.765-160 160-160 160 71.765 160 160-71.766 160-160 160z\"></path>\n    </svg>\n  );\n};\n\nexport default SearchIcon;\n","import { DependencyList, useCallback, useEffect, useRef } from 'react';\n\nexport type UseDebounceReturn = [() => boolean | null, () => void];\nexport type UseTimeoutFnReturn = [() => boolean | null, () => void, () => void];\n\nfunction useTimeoutFn(fn: Function, ms = 0): UseTimeoutFnReturn {\n  const ready = useRef<boolean | null>(false);\n  const timeout = useRef<ReturnType<typeof setTimeout>>();\n  const callback = useRef(fn);\n\n  const isReady = useCallback(() => ready.current, []);\n\n  const set = useCallback(() => {\n    ready.current = false;\n    timeout.current && clearTimeout(timeout.current);\n\n    timeout.current = setTimeout(() => {\n      ready.current = true;\n      callback.current();\n    }, ms);\n  }, [ms]);\n\n  const clear = useCallback(() => {\n    ready.current = null;\n    timeout.current && clearTimeout(timeout.current);\n  }, []);\n\n  useEffect(() => {\n    callback.current = fn;\n  }, [fn]);\n\n  useEffect(() => {\n    set();\n\n    return clear;\n  }, [ms, clear, set]);\n\n  return [isReady, clear, set];\n}\n\nexport default function useDebounce(\n  fn: Function,\n  ms = 0,\n  deps: DependencyList = [],\n): UseDebounceReturn {\n  const [isReady, cancel, reset] = useTimeoutFn(fn, ms);\n  useEffect(reset, deps);\n  return [isReady, cancel];\n}\n","import * as React from 'react';\nimport cls from 'classnames';\n\nimport styles from './input.scss';\nimport { SearchIcon } from 'components/icons/search';\nimport useDebounce from './hooks';\n\nexport interface ICallbackObject {\n  value: string;\n}\n\nconst INPUT_DEBOUNCE = 300;\ninterface IInputProps {\n  value?: string;\n  placeholder?: string;\n  disabled?: boolean;\n  className?: string;\n  onChange?: (value: string) => void;\n  onEnter?: (value: string) => void;\n}\n\nconst Input: React.SFC<IInputProps> = ({\n  value = '',\n  placeholder,\n  disabled,\n  onChange,\n  onEnter,\n  className,\n}) => {\n  const [localValue, setValue] = React.useState<string>('');\n  const isMounted = React.useRef(false);\n\n  React.useEffect(() => {\n    setValue(value);\n  }, [value]);\n\n  useDebounce(\n    () => {\n      if (!isMounted.current) {\n        isMounted.current = true;\n        return;\n      }\n      onChange && onChange(localValue);\n    },\n    INPUT_DEBOUNCE,\n    [localValue],\n  );\n\n  const handleOnKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      handleOnEnter(event);\n    }\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n  };\n\n  const handleOnEnter = (event: React.KeyboardEvent<HTMLInputElement>) =>\n    onEnter && onEnter(event.currentTarget.value);\n\n  return (\n    <div className={cls(className, styles.wrapper)}>\n      <input\n        className={styles.input}\n        type=\"text\"\n        value={localValue}\n        placeholder={placeholder}\n        disabled={disabled}\n        onChange={handleChange}\n        onKeyPress={handleOnKeyPress}\n      />\n      <SearchIcon />\n    </div>\n  );\n};\n\nexport default Input;\n","import * as React from 'react';\nimport cls from 'classnames';\n\nimport styles from './button.scss';\ninterface IButtonProps<T> {\n  onClick: (v: T) => void;\n  item: T;\n  isActive: boolean;\n}\n\nfunction Button<T>({\n  item,\n  onClick,\n  isActive,\n  children,\n}: React.PropsWithChildren<IButtonProps<T>>) {\n  const handleClick = () => {\n    onClick(item);\n  };\n  return (\n    <button className={cls(styles.button, { [styles.active]: isActive })} onClick={handleClick}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import * as React from 'react';\nimport cls from 'classnames';\n\nimport { Button } from 'components/button';\n\nimport styles from './tabs.scss';\n\ninterface ITabsProps<T> {\n  className: string;\n  onClick: (v: T) => void;\n  options: T[];\n  value: string;\n}\n\ninterface IOption {\n  id: number;\n  label: string;\n  value: string;\n}\n\nfunction Tabs<T extends IOption>({ className, options, onClick, value }: ITabsProps<T>) {\n  return (\n    <div className={cls(className, styles.tabs)}>\n      {options.map(option => {\n        return (\n          <Button<T>\n            key={option.id}\n            item={option}\n            onClick={onClick}\n            isActive={option.value === value}\n          >\n            {option.label}\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Tabs;\n","import * as React from 'react';\nimport styles from './category.scss';\nimport { ICategoryItem } from '../types';\n\ninterface Props {\n  category: ICategoryItem;\n  onClick: (v: ICategoryItem) => void;\n}\n\nconst Category: React.FC<Props> = ({ category, onClick }) => {\n  const handleClick = () => {\n    onClick(category);\n  };\n\n  return (\n    <span className={styles.category} onClick={handleClick} key={category.id}>\n      {category.label}\n    </span>\n  );\n};\n\nexport default Category;\n","import * as React from 'react';\n\nimport Category from './category/category';\nimport { ICategoryItem } from './types';\n\nimport styles from './categories.scss';\nimport cls from 'classnames';\n\ninterface Props {\n  onClick: (v: string) => void;\n  categories: ICategoryItem[];\n  className?: string;\n}\n\nfunction Categories(props: Props): JSX.Element {\n  const { onClick, categories, className } = props;\n\n  const handleClick = React.useCallback(\n    (category: ICategoryItem) => {\n      onClick(category.label);\n    },\n    [onClick],\n  );\n\n  return (\n    <div className={cls(className, styles.filters)}>\n      <div className={styles.tabs}>\n        {categories.map((category: ICategoryItem) => (\n          <Category key={category.id} category={category} onClick={handleClick} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Categories;\n","import { ICategoryItem } from './blocks/categories';\n\nexport interface IOption {\n  id: number;\n  label: string;\n  value: string;\n}\n\nexport const CATEGORIES: ICategoryItem[] = [\n  { id: 0, label: 'business' },\n  { id: 1, label: 'sports' },\n  { id: 2, label: 'entertainment' },\n  { id: 3, label: 'general' },\n  { id: 4, label: 'health' },\n  { id: 5, label: 'science' },\n  { id: 6, label: 'technology' },\n];\n\nexport const PAGES: ICategoryItem[] = [\n  { id: 0, label: 'headlines' },\n  { id: 1, label: 'all' },\n  { id: 2, label: 'sources' },\n];\n\nexport const ORDER_OPTIONS: IOption[] = [\n  { id: 0, label: '↑', value: 'asc' },\n  { id: 1, label: '↓', value: 'desc' },\n];\n","import * as React from 'react';\nimport qs from 'qs';\n\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { getQuery } from 'src/getQuery';\nimport { useStore } from 'src/store';\n\nimport { Input } from 'components/input';\nimport { Tabs } from 'components/tabs';\nimport { Categories } from './blocks/categories';\nimport { IOption, ORDER_OPTIONS, CATEGORIES, PAGES } from './constants';\n\nimport styles from './filters.scss';\n\nconst Filters: React.FC = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const query = getQuery(location);\n  const { articles: articlesStore } = useStore();\n\n  const handleOrder = React.useCallback(\n    (option: IOption): void => {\n      const queryString = qs.stringify({ ...query, order: option.value });\n      history.push({ search: decodeURIComponent(queryString) });\n    },\n    [query, history],\n  );\n\n  const handleChange = React.useCallback(\n    (value: string) => {\n      const newQuery = { ...query, search: value };\n      const queryString = qs.stringify(newQuery);\n      history.push({ search: decodeURIComponent(queryString) });\n      articlesStore.searchArticles(newQuery);\n    },\n    [articlesStore, query, history],\n  );\n\n  const handleSetCategory = React.useCallback(\n    (value: string) => {\n      const newQuery = { ...query, category: value };\n      const queryString = qs.stringify(newQuery);\n      history.push({ search: decodeURIComponent(queryString) });\n      articlesStore.setCategory(newQuery);\n    },\n    [articlesStore, query, history],\n  );\n\n  return (\n    <div className={styles.filters}>\n      <Categories className={styles.pages} onClick={handleSetCategory} categories={PAGES} />\n      <Input className={styles.input} onChange={handleChange} value={query.search} />\n      <div className={styles.tabs}>\n        <Tabs<IOption>\n          value={query.order}\n          className={styles.arrows}\n          onClick={handleOrder}\n          options={ORDER_OPTIONS}\n        />\n        <Categories onClick={handleSetCategory} categories={CATEGORIES} />\n      </div>\n    </div>\n  );\n};\n\nexport default Filters;\n","import * as React from 'react';\n// import cls from \"classnames\";\n\nimport { IArticle } from 'src/types';\n\nimport styles from './article.scss';\n\ninterface ITableComponentProps {\n  article: IArticle;\n  isFavourite: boolean;\n  onAddFavourite?: (id: number) => void;\n}\n\nconst Row: React.FC<ITableComponentProps> = ({ article }) => (\n  <div key={article.url}>\n    <div className={styles.row}>\n      <a className={styles.text} href={article.url}>\n        <div className={styles.name}>{article.title}</div>\n        <div className={styles.phrase}>{article.description}</div>\n      </a>\n      {article.urlToImage && (\n        <img src={article.urlToImage} alt={article.title} height=\"300px\" loading=\"lazy\" />\n      )}\n      <div className={styles.cell}>{article.author}</div>\n    </div>\n  </div>\n);\n\nexport default Row;\n","import * as React from 'react';\n\nimport Row from './article/article';\nimport { IArticle } from 'src/types';\nimport { useIntersectionObserver } from 'src/helpers/io';\nimport { observer } from 'mobx-react-lite';\nimport cls from 'classnames';\n\nimport styles from './articles.scss';\n\ninterface IArticlesComponentProps {\n  articles: IArticle[];\n  favouritesIds?: number[];\n  isLoading: boolean;\n  onAddFavourite?: (id: number) => void;\n  onEndedList: (v: boolean) => void;\n}\n\nconst Articles: React.FC<IArticlesComponentProps> = observer(\n  ({ articles, onEndedList, isLoading }) => {\n    const wrapperRef = React.useRef<HTMLDivElement>(null);\n\n    const handleIntersect = () => {\n      onEndedList(true);\n    };\n\n    useIntersectionObserver(wrapperRef, {\n      rootMargin: '30%',\n      onIntersect: handleIntersect,\n    });\n\n    if (isLoading) {\n      return <div>Loading...</div>;\n    }\n\n    if (!articles || articles.length === 0) {\n      return <div>No results. Try to use other filters...</div>;\n    }\n\n    const renderView = (article: IArticle): React.ReactElement | null => (\n      <Row key={article.publishedAt} article={article} isFavourite={false} />\n    );\n\n    return (\n      <>\n        <div className={cls(styles.standartArticles)} ref={wrapperRef}>\n          {articles.map(article => renderView(article))}\n        </div>\n        <div ref={wrapperRef}></div>\n      </>\n    );\n  },\n);\n\nexport default Articles;\n","import * as React from 'react';\n\ninterface IParams {\n  root?: Element;\n  rootMargin?: string;\n  threshold?: number;\n  onIntersect: () => void;\n}\n\nexport const useIntersectionObserver = (\n  ref: React.RefObject<HTMLDivElement>,\n  { threshold, root, rootMargin, onIntersect }: IParams,\n) => {\n  const [hasBeenVisible, setHasBeenVisible] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    async function init() {\n      if (typeof window !== 'undefined' && !window.IntersectionObserver) {\n        await import('intersection-observer' as any).then(() => {\n          // eslint-disable-next-line no-console\n          console.log('IntersectionObserver polyfill injected.');\n        });\n      }\n    }\n    init();\n  }, []);\n\n  React.useEffect(() => {\n    const observer = new IntersectionObserver(\n      entries => {\n        if (entries[0].intersectionRatio > 0) {\n          setHasBeenVisible(true);\n          onIntersect();\n        }\n      },\n      {\n        threshold: threshold || 0,\n        root: root || null,\n        rootMargin: rootMargin || '0%',\n      },\n    );\n\n    if (ref.current && !hasBeenVisible) {\n      observer.observe(ref.current);\n    }\n  });\n};\n","import * as React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { observer } from 'mobx-react-lite';\n\nimport { getQuery } from 'src/getQuery';\nimport { Filters } from 'components/filters';\n\nimport styles from './main.scss';\n\nimport { useStore } from 'src/store';\n\nimport { Articles } from 'src/components/articles';\nimport { ErrorWrapper } from 'src/components/error';\n\nconst Main: React.FC = observer(() => {\n  const location = useLocation();\n  const query = getQuery(location);\n  const { articles: articlesStore } = useStore();\n  const articles = articlesStore.getSortedArticles(query);\n\n  const getArticles = React.useCallback(\n    (isMore?: boolean) => {\n      articlesStore.getArticles(query, isMore);\n    },\n    [articlesStore, query],\n  );\n\n  React.useEffect(() => {\n    getArticles();\n  }, []);\n\n  const {\n    status: { error, isLoading },\n  } = articlesStore;\n\n  return (\n    <div className={styles.layout}>\n      <Filters />\n      <ErrorWrapper error={error}>\n        <Articles articles={articles} isLoading={isLoading} onEndedList={getArticles} />\n      </ErrorWrapper>\n    </div>\n  );\n});\n\nexport default Main;\n"],"sourceRoot":""}